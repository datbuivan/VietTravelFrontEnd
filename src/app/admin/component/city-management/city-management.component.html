<div class="container h-full">
    <div class="card h-full">
        <div class="flex justify-between items-center mb-4">
            <div class="font-semibold text-xl mb-4">Danh Sách Thành Phố</div>
            <button pButton label="Thêm Thành Phố" icon="pi pi-plus" class="p-button-info mb-2" [routerLink]="['/admin/add-city']"></button>
        </div>
        <p-table #dt1 dataKey="id" [value]="cities" [rows]="5" [rowHover]="true" [showGridlines]="true" [paginator]="true" [globalFilterFields]="['name', 'pictures', 'price', 'childPrice', 'singleRoomSurcharge']" responsiveLayout="scroll">
            <ng-template #caption>
                <div class="flex justify-between items-center flex-column sm:flex-row">
                    <button pButton label="Clear" class="p-button-outlined mb-2" icon="pi pi-filter-slash"></button>
                    <p-iconfield iconPosition="left" class="ml-auto">
                        <p-inputicon>
                            <i class="pi pi-search"></i>
                        </p-inputicon>
                        <input pInputText type="text" placeholder="Search keyword" />
                    </p-iconfield>
                </div>
            </ng-template>
            <ng-template #header>
                <tr>
                    <th style="min-width: 4rem">
                        <div class="flex justify-between items-center">STT</div>
                    </th>
                    <th style="min-width: 12rem">
                        <div class="flex justify-between items-center">Tên Thành Phố</div>
                    </th>
                    <th style="min-width: 6rem">
                        <div class="flex justify-between items-center">Hình Ảnh</div>
                    </th>
                    <th style="min-width: 12rem">
                        <div class="flex justify-between items-center">Tiêu Đề</div>
                    </th>
                    <th style="min-width: 6rem">
                        <div class="flex justify-between items-center">Miền Id</div>
                    </th>
                    <th style="min-width: 12rem">
                        <div class="flex justify-between items-center"></div>
                    </th>
                </tr>
            </ng-template>
            <ng-template #body let-city let-i="rowIndex">
                <tr>
                    <td>
                        <p>{{ i + 1 }}</p>
                    </td>
                    <td>
                        <p>{{ city.name }}</p>
                    </td>
                    <td>
                        <div class="flex items-center gap-2">
                            <p-image [src]="city.image.url" alt="Image" width="80" />
                        </div>
                    </td>
                    <td>
                        <p>{{ city.titleIntroduct }}</p>
                    </td>
                    <td>
                        <p>{{ city.regionId }}</p>
                    </td>
                    <td>
                        <div class="flex gap-2">
                            <button pButton icon="pi pi-eye" class="p-button-info" [routerLink]="['/admin/city', city.id]"></button>
                            <button pButton icon="pi pi-pencil" class="p-button-warning" [routerLink]="['/admin/city', city.id, 'edit']"></button>
                            <button pButton icon="pi pi-trash" class="p-button-danger" (click)="deleteCity(city.id)"></button>
                        </div>
                    </td>
                </tr>
            </ng-template>
            <ng-template #emptymessage>
                <tr>
                    <td colspan="8">Không có Thành Phố nào được tìm thấy.</td>
                </tr>
            </ng-template>
            <ng-template #loadingbody>
                <tr>
                    <td colspan="8">Dữ liệu đang được loading, vui lòng chờ một chút</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>
