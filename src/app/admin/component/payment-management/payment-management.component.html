<div class="container h-full">
    <div class="card h-full">
        <div class="flex justify-between items-center mb-4">
            <div class="font-semibold text-xl mb-4">Danh Sách Thanh Toán</div>
        </div>
        <p-table
            #dt1
            dataKey="paymentId"
            [value]="payments"
            [rows]="5"
            [rowHover]="true"
            [showGridlines]="true"
            [paginator]="true"
            [globalFilterFields]="['paymentId', 'bookingId', 'bookingType', 'paymentMethod', 'status', 'tourName']"
            responsiveLayout="scroll"
        >
            <ng-template pTemplate="caption">
                <div class="flex justify-between items-center flex-column sm:flex-row gap-2">
                    <p-select [options]="statusOptions" [(ngModel)]="selectedStatus" placeholder="Chọn trạng thái" optionLabel="label" optionValue="value" (onChange)="onStatusFilter(dt1, $event)" class="mb-2"></p-select>
                    <button pButton label="Clear" class="p-button-outlined mb-2" icon="pi pi-filter-slash" (click)="clearFilter(dt1)"></button>
                    <p-iconfield iconPosition="left" class="ml-auto">
                        <p-inputicon>
                            <i class="pi pi-search"></i>
                        </p-inputicon>
                        <input pInputText type="text" (input)="onGlobalFilter(dt1, $event)" placeholder="Tìm kiếm từ khóa" />
                    </p-iconfield>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th style="min-width: 4rem">
                        <div class="flex justify-between items-center">STT</div>
                    </th>
                    <th style="min-width: 8rem">
                        <div class="flex justify-between items-center">Mã Thanh Toán</div>
                    </th>
                    <th style="min-width: 8rem">
                        <div class="flex justify-between items-center">Mã Đặt Chỗ</div>
                    </th>
                    <th style="min-width: 8rem">
                        <div class="flex justify-between items-center">Loại Đặt Chỗ</div>
                    </th>
                    <th style="min-width: 8rem">
                        <div class="flex justify-between items-center">Phương Thức</div>
                    </th>
                    <th style="min-width: 8rem">
                        <div class="flex justify-between items-center">Số Tiền</div>
                    </th>
                    <th style="min-width: 8rem">
                        <div class="flex justify-between items-center">Trạng Thái</div>
                    </th>
                    <th style="min-width: 12rem">
                        <div class="flex justify-between items-center">Ngày Thanh Toán</div>
                    </th>
                    <th style="min-width: 12rem">
                        <div class="flex justify-between items-center">Tên Tour</div>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-payment let-i="rowIndex">
                <tr>
                    <td>
                        <p>{{ i + 1 }}</p>
                    </td>
                    <td>
                        <p>{{ payment.paymentId }}</p>
                    </td>
                    <td>
                        <p>{{ payment.bookingId }}</p>
                    </td>
                    <td>
                        <p>{{ payment.bookingType }}</p>
                    </td>
                    <td>
                        <p>{{ payment.paymentMethod }}</p>
                    </td>
                    <td>
                        <p>{{ payment.amount | vnd }}</p>
                    </td>
                    <td>
                        <p>{{ payment.status }}</p>
                    </td>
                    <td>
                        <p>{{ payment.paymentDate | date: 'dd/MM/yyyy HH:mm' }}</p>
                    </td>
                    <td>
                        <p>{{ payment.tourName }}</p>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="9">Không có thanh toán nào được tìm thấy.</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="loadingbody">
                <tr>
                    <td colspan="9">Dữ liệu đang được tải, vui lòng chờ một chút.</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>
